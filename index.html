<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
</head>
<body>
  <div class="container">
    <div class="display"></div>
    <form id = Input>
      <input type="text" class = 'gifyName'>
      <input class = 'submit' value = "submit">
    </form>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script>
    var gify = [];
  $(".submit").on("click",function(){
    var name = '';
    name = $(".gifyName").val();
    gify.push(name);
    displayBtn();
     var qurl ="http://api.giphy.com/v1/gifs/search?q="+name+"&api_key=na4flw0eFDY5p53Kccwg65sTpY0OCl67"
    $.ajax({
      url: qurl,
      method: "GET"
    }).then(function(response){
      console.log(response);
      for(var j = 0; j < response.data.length; j++){
        $(".display").append("number" + j)
      $(".display").append("ratings: "+response.data[j].rating);
      $(".display").append("<img>");
     var image =  response.data[j].images.downsized_small.url;
      $("img").attr("src",image);
      }

    })
  })

  function displayBtn(){
    for(var i = 0 ; i< gify.length; i++){
      var temp = $("<button></button>");
      temp.addClass("newGif");
      temp.attr("data",gify[i]);
      temp.attr("text",gify[i]);
      $(".display").append(temp);

    }
  }
    
  </script>
</body>
</html>